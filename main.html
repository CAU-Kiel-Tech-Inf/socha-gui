<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8">
    <title>Softwarechallenge 2016/17</title>
    <link rel="stylesheet" href="assets/Roboto/Roboto.css">
    <link rel="stylesheet" href="assets/fontawesome/css/font-awesome.min.css">
    <link rel="stylesheet" href="style.css">
  </head>
  <body>
    <header>
      <a class="fa fa-bars" id="btnMenuLeftHeader" onclick="toggleNavLeft();"></a> Software-Challenge 2017
    </header>

    <nav class="left" id="nav-left" open="true">
      <a id="btnNewGame" onclick="newGame();">Neues Spiel</a>
      <a id="btnLoad">Replay Laden</a>
      <a id="btnMassTest">Massentests</a>
    </nav>

    <div id="content">
      <div id="new-game" class="dialog" style="display: none;">
        <h1>Neues Spiel</h1>
          <h2 id="player-1-name" contenteditable>Spieler 1</h2>
          <p>
            <a class="select" selected="true" onclick="hide('player-1-robot-settings'); hide('player-1-manual-settings');">Mensch</a><a class="select" onclick="show('player-1-robot-settings'); hide('player-1-manual-settings');">Computerspieler</a><a class="select" onclick="hide('player-1-robot-settings'); show('player-1-manual-settings');">Manuell</a>
          </p>
          <div id="player-1-robot-settings" displayed="false" style="max-height: 0;">
              <span class="description">Runtime:</span><input type="text" id="player-1-command"><br/>
              <span class="description">Datei:</span><input type="text" id="player-1-file"><br/>
              <span class="description">Argumente:</span><input type="text" id="player-1-arguments"><br/>
          </div>
          <div id="player-1-manual-settings" displayed="false" style="max-height: 0;">
              <span class="description">Port:</span><input type="text" id="player-1-port" style="width: 8em;">
          </div>
        <h2 id="player-2-name" contenteditable>Spieler 2</h2>
        <p>
          <a class="select" selected="true" onclick="hide('player-2-robot-settings'); hide('player-2-manual-settings');">Mensch</a><a class="select" onclick="show('player-2-robot-settings'); hide('player-2-manual-settings');">Computerspieler</a><a class="select" onclick="hide('player-2-robot-settings'); show('player-2-manual-settings');">Manuell</a>
        </p>
        <div id="player-2-robot-settings" displayed="false" style="max-height: 0;">
            <span class="description">Runtime:</span><input type="text" id="player-2-command"><br/>
            <span class="description">Datei:</span><input type="text" id="player-2-file"><br/>
            <span class="description">Argumente:</span><input type="text" id="player-2-arguments"><br/>
        </div>
        <div id="player-2-manual-settings" displayed="false" style="max-height: 0;">
            <span class="description">Port:</span><input type="text" id="player-2-port" style="width: 8em;">
        </div>
        <br/><br/>
        <a id="new-game-start">Start</a>
      </div>
    </div>

    <nav class="right" id="nav-right" open="false">

    </nav>

    <!-- Menu left, menu right-->
    <script type="text/ecmascript">
      function toggleNavLeft(){
          var navLeft = document.getElementById('nav-left');
          if(navLeft.getAttribute('open') == 'true'){//Menu open, close it
            navLeft.style.left = '-30vw';
            navLeft.setAttribute('open', 'false');
          }else{
            navLeft.style.left = 0;
           navLeft.setAttribute('open', 'true');
         }
      }

      function toggleNavRight(){
          var navRight = document.getElementById('nav-right');
          if(navRight.getAttribute('open') == 'true'){//Menu open, close it
            navRight.style.left = '-30vw';
            navRight.setAttribute('open', 'false');
          }else{
            navRight.style.left = 0;
            navRight.setAttribute('open', 'true');
          }
      }
    </script>

    <!-- Select Logic-->
    <script type="text/ecmascript">
      let selects = document.querySelectorAll('.select');
      for(var i = 0; i < selects.length; i++){
        selects[i].addEventListener('click', (e) => {
          var group = e.target.parentNode.children;
          for(var i = 0; i < group.length; i++){
            if(group[i].classList.contains('select')){
              group[i].setAttribute('selected', 'false');
            }
          }
          e.target.setAttribute('selected', 'true');
        });
      }
    </script>

    <!-- New Game Logic -->
    <script type="text/ecmascript">
      function hide(id){
        var elem = document.getElementById(id);
        elem.style['max-height'] = 0;
        elem.setAttribute('displayed', 'true');
        //elem.style.display = "none";
      }

      function show(id){
        var elem = document.getElementById(id);
        elem.style['max-height'] = '100vh';
        elem.setAttribute('displayed', 'false');
        //elem.style.display = "block";
      }

      function newGame(){
        document.getElementById('new-game').style.display = "block";
        toggleNavLeft();
      }
    </script>

  </body>
</html>
